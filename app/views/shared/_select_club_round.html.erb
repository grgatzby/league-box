<%# partial: let the user select a club and a round %>
<% if !params[:round_start] %>
  <%= sanitize intro_paragraph %>
<% end %>
<br>
<% if current_user == @admin %>
  <% if !params[:round_start] || params[:club_name] %>
    <!-- for the admin: display the club form before the round form, then keep displaying the club form -->
    <%= form_with url: fallback_path, method: :get do |form| %>
      <%= form.label :club_name, t('.select_club') %>
      <%= form.select :club_name, @club_names, :selected => params[:club_name] %>
      <% if !params[:club_name] || params[:round_start] %>
        <!-- name: "" to get rid of the name attribute, so commit does not appear in the url -->
        &nbsp;&nbsp;&nbsp;&nbsp;<%= form.submit t('.confirm_btn'), class: "btn buttons-shape btn-green", name: "" %>
        &nbsp;&nbsp;&nbsp;&nbsp;
        <%= link_to t('.back_btn'), :back, class: "btn buttons-shape btn-blue" %>
      <% end %>
    <% end %>
  <% end %>
<% else %>
  <% if !params[:round_start] %>
    <!-- display the club name until the round form has been answered -->
    <%= @club.name %>
    <br><br>
  <% end %>
<% end %>
<% if !params[:round_start] && params[:club_name] || (current_user != @admin) %>
  <!-- for players and referees: display the round form IF a club is already set -->

  <%= render "shared/select_round", fallback_path: fallback_path, label: t('.select_round_start') %>
  <!--
  <%= form_with url: fallback_path, method: :get do |form| %>
    <%= form.label :round_start, t('.select_round_start') %>
    <%= form.select :round_start, @start_dates, :selected => params[:round_start] %>&nbsp;&nbsp;&nbsp;&nbsp;
    <%= hidden_field_tag(:club_name, @club.name) %>
    <%= form.submit t('.confirm_btn'), class: "btn buttons-shape btn-green", name: "" %>
    &nbsp;&nbsp;&nbsp;&nbsp;
    <%= link_to t('.back_btn'), :back, class: "btn buttons-shape btn-blue" %>
  <% end %>
  -->
<% end %>
