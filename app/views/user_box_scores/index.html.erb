<!-- display the league table -->
<div class="container" data-controller="toggle">
  <h3>
    <%= t '.league_table_title' %>
    <% if @round %>
      <%= link_to t('print'), '#', :onclick => 'window.print();return false;', class: "btn buttons-shape btn-blue dont-print"%>
    <% end %>
  </h3>
  <% if @round %>
    <div>
      <div class="same-line">
        <div><%= render "shared/display_club_round", round: @round %></div>
      </div>
      <div class="dont-print">
        <% up = ["↓", "↑"] %>
        <% down = ["↑", "↓"]%>
        <% if params["sort"] %>
          <% params["sort"] = nil  %>
          <p class="stick-rules">
            <%= link_to t(".top_line_html"), user_box_scores_path(round_start: @round.start_date, club_name: @round.club.name), class: "btn buttons-shape btn-green no-padding-no-border"%>
          </p>
        <% else %>
          <p class="stick-rules"><%= t '.top_line_html' %></p>
          <div class="photo-wrap frame-shape frame-padding text-size">
            <%= sanitize t('.rules') %>
          </div><br>
        <% end %>
      </div>
    </div>
    <div>
    <%# <div class="league-frame"> %>
    <!-- league-frame and league-containerallow overflow-x (horizontal scroll) but kills stickiness
    stickiness do not marry well with overflow, solve it with https://uxdesign.cc/position-stuck-96c9f55d9526  -->
        <div class="frame-shape frame-padding text-size">
        <%# <div class="frame-shape frame-padding text-size league-container"> %>
          <div class="row justify-content-center align-items-center font-bold sticky-league-table-header">
            <div class="col-sm-3"><%=render "header_link", header: t('.player_header'), dir: up%></div>
            <div class="col-sm-1"><%=render "header_link", header: t('.rank_header'), dir: up%></div>
            <div class="col-sm-1"><%=render "header_link", header: t('.points_header'), dir: down%></div>
            <div class="col-sm-1"><%=render "header_link", header: t('.box_header'), dir: up%></div>
            <div class="col-sm-1"><%=render "header_link", header: t('.matches_played_header'), dir: down%></div>
            <div class="col-sm-1"><%=render "header_link", header: t('.matches_won_header'), dir: down%></div>
            <div class="col-sm-1"><%=render "header_link", header: t('.sets_played_header'), dir: down%></div>
            <div class="col-sm-1"><%=render "header_link", header: t('.sets_won_header'), dir: down%></div>
          </div>
          <div class="do-expand box-scroller" data-toggle-target="togglableElement" data-action="scroll->toggle#scrollFunction" >
            <ol type="1">
              <%= render "league_table", user_box_scores: @user_box_scores %>
            </ol>

            <button data-action="click->toggle#scrollToTop" data-toggle-target="topButton"
              class="btn buttons-shape btn-blue button-top d-none"><i class="fa-solid fa-up-long"></i>
            </button>
          </div>
        </div>
    </div>
    <!--
    <div class="buttons-wrap">
      <%= link_to "Back to top", "#top", class: "btn buttons-shape btn-blue" %>
      <%= link_to "All boxes", boxes_path(round_start: @round.start_date, club_name: @round.club.name), class: "btn buttons-shape btn-green" %>
    </div>
    -->
  <% else %>
    <!-- if no round selected, invoke forms to select a club (admin only) and a round -->
    <%= render "shared/select_club_round", fallback_path: user_box_scores_path, intro_paragraph: t(".intro") %>
  <% end %>
</div>
