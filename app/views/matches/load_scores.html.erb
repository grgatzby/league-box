<!-- admin only: create a new club, its courts, players (from csv file), a round, its boxes and user_box_scores
the csv file must contain fields id, email, first_name, last_name, (nickname), phone_number, role (players + 1 referee)
players are allocated in boxes by id in descending order  -->
<div class="<%= class_names("container": !@is_mobile) %>">
  <h3><%= "Load scores" %></h3><br>
  <% unless current_user.role == "admin" %>
    <br><br><%= t '.not_authorised' %>
  <% else %>
    <p><%= t '.p01' %>
    <%= t '.p02_html' %></p>

    <%= form_with(url: {action: "create_scores"}, multipart: true) do %>
      <div class="frame-color-shape frame-padding-no-top">
        <br>

        <div class="row"><br>
          <div class="col-2"><%= label_tag 'separator' %></div>
          <div class="col-1"><%= text_field_tag :separator, params[:separator] || ";", size: 2 %></div>
        </div><br>
        <div class="row"><br>
          <div class="col-2">
            <div data-controller="popover" data-bs-html="true" data-bs-toggle="popover"
                data-bs-trigger="hover" data-bs-placement="right" data-bs-delay= '{ "show": 500 }'
                title="<%= t('.title_pop') %>" data-bs-content="<%= t('.message_pop') %>">
              <%= label_tag t '.load_csv_file' %>
            </div>
          </div>
              <%= hidden_field_tag(:round_id, params[:round_id]) %>
          <div class="col-1"><%= file_field_tag :csv_file %></div>
        </div><br>
      </div><br>
      <div class="buttons-wrap">
        <%= submit_tag t('.submit_btn'), class: "btn buttons-shape btn-green" %>&nbsp;&nbsp;&nbsp;&nbsp;
        <%# link_to "Back", "javascript:history.back()", class: "btn buttons-shape btn-yellow" %>
        <%= link_to t('.back'), :back, class: "btn buttons-shape btn-yellow" %>
      </div>
    <% end %>
  <% end %>
</div>
